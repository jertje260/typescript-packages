name: 1.0.$(Date:yyyyMMdd)$(Rev:.r)

resources:
- repo: self

queue:
  name: Hosted Ubuntu 1604

variables:
  Configuration: 'Release'

trigger: none

pr:
- master

steps:
- task: Npm@1
  displayName: Install
  inputs:
    command: install

- task: Npm@1
  displayName: Test
  inputs:
    command: custom
    customCommand: 'test'

- task: Npm@1
  displayName: Clean
  inputs:
    command: custom
    customCommand: 'run clean'

- task: Npm@1
  displayName: Compile
  inputs:
    command: custom
    customCommand: 'run compile'